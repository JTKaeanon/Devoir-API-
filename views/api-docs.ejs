<!DOCTYPE html>
<html lang="fr">

<head>
    <%- include('partials/head') %>
</head>

<body>
    <div class="dashboard-container">
        <%- include('partials/sidebar') %>

            <main class="main-content">
                <header class="header">
                    <h1>üìö Documentation de l'API</h1>
                    <div class="user-info">
                        <% if (locals.user) { %> üë§ <%= user %>
                                <% } else { %> üë§ Non connect√© <% } %>
                    </div>
                </header>

                <div class="card" style="margin-bottom: 40px;">
                    <h3>Introduction</h3>
                    <p style="margin-top: 10px; margin-bottom: 20px; color: #666;">
                        Bienvenue sur la documentation de l'API <strong>Port de Plaisance
                            Russell </strong>.
                    </p>

                </div>

                <div>

                    <div id="catways" class="doc-section">
                        <h3>‚öì Ressources Catways</h3>
                        <p style="margin-bottom: 20px; color: #555;">
                            Gestion des emplacements physiques du port (pontons).
                        </p>

                        <div class="endpoint-card">
                            <div class="endpoint-header">
                                <span class="method get">GET</span>
                                <span class="endpoint">/catways</span>
                            </div>
                            <div class="endpoint-body">
                                R√©cup√®re la liste compl√®te des catways tri√©e par num√©ro.
                            </div>
                        </div>

                        <div class="endpoint-card">
                            <div class="endpoint-header">
                                <span class="method get">GET</span>
                                <span class="endpoint">/catways/:id</span>
                            </div>
                            <div class="endpoint-body">
                                R√©cup√®re un catway sp√©cifique.
                                <div class="params-box">
                                    <span class="code-label">Param√®tres URL</span>
                                    :id (Number) - Le num√©ro du catway
                                </div>
                            </div>
                        </div>

                        <div class="endpoint-card">
                            <div class="endpoint-header">
                                <span class="method post">POST</span>
                                <span class="endpoint">/catways</span>
                            </div>
                            <div class="endpoint-body">
                                Cr√©e un nouvel emplacement.
                                <div class="params-box">
                                    <span class="code-label">Body (JSON)</span>
                                    { "catwayNumber": 10, "catwayType": "long", "catwayState": "Bon √©tat" }
                                </div>
                            </div>
                        </div>

                        <div class="endpoint-card">
                            <div class="endpoint-header">
                                <span class="method put">PUT</span>
                                <span class="endpoint">/catways/:id</span>
                            </div>
                            <div class="endpoint-body">
                                Met √† jour la description de l'√©tat d'un catway.
                                <div class="params-box">
                                    <span class="code-label">Body (JSON)</span>
                                    { "catwayState": "En maintenance pour peinture" }
                                </div>
                            </div>
                        </div>

                        <div class="endpoint-card">
                            <div class="endpoint-header">
                                <span class="method delete">DELETE</span>
                                <span class="endpoint">/catways/:id</span>
                            </div>
                            <div class="endpoint-body">
                                Supprime un catway de la base de donn√©es.
                            </div>
                        </div>


                    </div>


                    <div id="reservations" class="doc-section">
                        <h3>üìÖ Ressources R√©servations</h3>
                        <p style="margin-bottom: 20px; color: #555;">
                            Gestion du planning. Les r√©servations sont techniquement des sous-ressources des catways.
                        </p>

                        <div class="endpoint-card">
                            <div class="endpoint-header">
                                <span class="method get">GET</span>
                                <span class="endpoint">/catways/:id/reservations</span>
                            </div>
                            <div class="endpoint-body">
                                Liste les r√©servations d'un catway.
                            </div>
                        </div>

                        <div class="endpoint-card">
                            <div class="endpoint-header">
                                <span class="method post">POST</span>
                                <span class="endpoint">/catways/:id/reservations</span>
                            </div>
                            <div class="endpoint-body">
                                Ajoute une r√©servation (V√©rifie automatiquement les doublons de dates).
                                <div class="params-box">
                                    <span class="code-label">Body (JSON)</span>
                                    {
                                    "clientName": "Jean Dupont",
                                    "boatName": "Titanic",
                                    "startDate": "2024-05-20",
                                    "endDate": "2024-05-25"
                                    }
                                </div>
                            </div>
                        </div>

                        <div class="endpoint-card">
                            <div class="endpoint-header">
                                <span class="method delete">DELETE</span>
                                <span class="endpoint">/catways/:id/reservations/:idResa</span>
                            </div>
                            <div class="endpoint-body">
                                Supprime une r√©servation.
                                <div class="params-box">
                                    <span class="code-label">Param√®tres URL</span>
                                    :id (Catway), :idResa (ID unique MongoDB de la r√©servation)
                                </div>
                            </div>
                        </div>


                    </div>


                    <div id="users" class="doc-section">
                        <h3>üë§ Ressources Utilisateurs</h3>
                        <p style="margin-bottom: 20px; color: #555;">
                            Gestion des acc√®s au tableau de bord (Administrateurs).
                        </p>

                        <div class="endpoint-card">
                            <div class="endpoint-header">
                                <span class="method get">GET</span>
                                <span class="endpoint">/users</span>
                            </div>
                            <div class="endpoint-body">
                                Liste tous les utilisateurs enregistr√©s (sauf mots de passe).
                            </div>
                        </div>

                        <div class="endpoint-card">
                            <div class="endpoint-header">
                                <span class="method post">POST</span>
                                <span class="endpoint">/users</span>
                            </div>
                            <div class="endpoint-body">
                                Cr√©e un compte Admin. Le mot de passe est hash√© automatiquement.
                                <div class="params-box">
                                    <span class="code-label">Body (JSON)</span>
                                    { "name": "Admin", "email": "admin@mail.com", "password": "SecretPassword" }
                                </div>
                            </div>
                        </div>

                        <div class="endpoint-card">
                            <div class="endpoint-header">
                                <span class="method delete">DELETE</span>
                                <span class="endpoint">/users/:id</span>
                            </div>
                            <div class="endpoint-body">
                                Supprime un compte utilisateur.
                            </div>
                        </div>


                    </div>

                </div>
            </main>
    </div>
</body>

</html>